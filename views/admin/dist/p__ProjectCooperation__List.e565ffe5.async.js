(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[39],{Lovu:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var l=n(a("wCAj")),o=n(a("2Taf")),r=n(a("vZ4D")),u=n(a("l4Ni")),i=n(a("ujKo")),d=n(a("MhPg")),c=n(a("q1tI")),s=(n(a("17x9")),function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,u.default)(this,(e=(0,i.default)(t)).call.apply(e,[this].concat(l))),a.state={selectedRowKeys:[],loading:!1},a.onSelectChange=function(e,t){a.props.onSelectChange(e,t),a.setState({selectedRowKeys:e})},a}return(0,d.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.state,t=(e.loading,e.selectedRowKeys),a={selectedRowKeys:t,onChange:this.onSelectChange};t.length;return c.default.createElement("div",null,c.default.createElement(l.default,{rowKey:"_id",rowSelection:a,bordered:!0,columns:this.props.columns,dataSource:this.props.data,pagination:this.props.pagination,onChange:this.props.onChange}))}}]),t}(c.default.Component));s.defaultProps={columns:[],data:[],onSelectChange:function(e,t){console.log(t)},pagination:{defaultPageSize:8,onChange:function(e,t){console.log(e,t)}}};var f=s;t.default=f},hy7x:function(e,t,a){},sN7s:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var l=n(a("bx4M"));a("y8nQ");var o=n(a("Vl3Y"));a("5NDa");var r=n(a("5rEg"));a("2qtc");var u=n(a("kLXV"));a("miYZ");var i=n(a("tsqr")),d=n(a("p0pE")),c=n(a("2Taf")),s=n(a("vZ4D")),f=n(a("l4Ni")),p=n(a("ujKo")),h=n(a("rlhR")),m=n(a("MhPg"));a("OaEy");var g=n(a("2fM7")),y=n(a("q1tI")),v=(n(a("17x9")),a("MuoO"));a("hy7x");for(var S,w,E,C=n(a("Lovu")),k=n(a("Jn7e")),I=n(a("wyND")),b=n(a("OmSi")),D=n(a("6uA3")),x=n(a("pizo")),P=n(a("q7UH")),R=n(a("69YY")),F=n(a("kAqz")),q=g.default.Option,z=[],O=10;O<36;O++)z.push(y.default.createElement(q,{key:O.toString(36)+O},O.toString(36)+O));var T=function(e){return null},M=(S=(0,v.connect)(),S((E=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return a=(0,f.default)(this,(e=(0,p.default)(t)).call.apply(e,[this].concat(l))),a.columns=[{width:180,title:"\u9879\u76ee\u540d\u79f0",dataIndex:"name"},{title:"\u7c7b\u578b",dataIndex:"type"},{title:"\u516c\u53f8\u540d\u79f0",dataIndex:"company"},{title:"\u63a8\u5e7f\u516c\u53f8",dataIndex:"Tcompany"},{title:"\u63a8\u5e7f\u8054\u7cfb\u65b9\u5f0f",dataIndex:"Tcontact"},{title:"\u63a8\u5e7f\u4e8c\u7ef4\u7801",key:"Tphotos",render:function(e,t,a){return y.default.createElement("img",{src:t.Tphotos,width:"90px",height:"90px"})}},{title:"\u5ba1\u6838\u72b6\u6001",dataIndex:"cnStatus"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"releaseTime"},{title:"\u64cd\u4f5c",key:"action",render:function(e,t,n){return y.default.createElement(y.default.Fragment,null,y.default.createElement(b.default,{row:t,api:"/collaborate/updateStatusById",status:t.status,finallyCallback:a.loadDataSource}),y.default.createElement(D.default,{row:t,api:"/collaborate/stickById",status:t.stick,finallyCallback:a.loadDataSource}),y.default.createElement(P.default,{row:t,FormWidget:I.default}),y.default.createElement(R.default,{api:"/collaborate/delById",row:t,finallyCallback:a.loadDataSource}))}}],a.defaultPagination={current:1,pageSize:10,total:0},a.pagination=JSON.parse(JSON.stringify(a.defaultPagination)),a.searchForm=null,a.state={selectRows:[],dataSource:[],params:{page:1,limit:10,keyWords:""}},a.handleSearchFormChange=function(){var e=(0,h.default)(a),t=e.defaultPagination;a.queryList(t.current,t.pageSize)},a.getParams=function(e,t){var n=(0,h.default)(a),l=n.pagination,o=n.searchForm;e=e||l.current,t=t||l.pageSize;var r=(0,d.default)({page:e,limit:t},o.getFieldsValue());return r},a.loadDataSource=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1,limit:10,keyWords:""},t=a.props.dispatch,n=(0,h.default)(a),l=n.pagination;t({type:"ProjectCooperation/list",payload:e}).then(function(e){if(200===e.status){var t=e.data,n=t.docs.map(a.rowPipe);l.current=t.page,l.pageSize=t.limit,l.total=t.total,a.setState({dataSource:n})}else i.default.error("\u7cfb\u7edf\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\uff01")})},a.saveSelectRows=function(e,t){a.setState({selectRows:t})},a.queryList=function(e,t){a.setState({params:a.getParams(e,t)},function(){a.loadDataSource(a.state.params)})},a.rowPipe=function(e){return e.avatar&&(e.avatar=e.avatar.split(",")[0]),e.cnStatus=k.default.public.status.audit[e.status]||e.status,e},a.handleDelItem=function(e){e=e[0],u.default.confirm({title:"\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e9b\u6570\u636e\u5417\uff1f",content:e.title,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){var t=a.props.dispatch;t({type:"ProjectCooperation/del",payload:{id:e._id}}).then(function(e){200===e.status?(i.default.success(e.message),a.loadDataSource(a.state.params)):i.default.error(e.message)})}})},a.handleDelItemBatch=function(){a.handleDelItem(a.state.selectRows)},a}return(0,m.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.loadDataSource(this.state.params)}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.selectRows,u=this.columns,i=this.pagination;return y.default.createElement(l.default,{className:"page__list"},y.default.createElement(F.default,{wrappedComponentRef:function(t){return e.searchForm=t},onChange:this.handleSearchFormChange},function(e){return y.default.createElement(y.default.Fragment,null,y.default.createElement(o.default.Item,{label:"\u9879\u76ee\u540d\u79f0"},e.getFieldDecorator("keyWords")(y.default.createElement(r.default,{placeholder:"\u8bf7\u8f93\u5165\u9879\u76ee\u540d\u79f0"}))))}),y.default.createElement(x.default,{type:"primary",to:"Form"},"\u65b0\u589e\u9879\u76ee"),n.length>0&&y.default.createElement(T,{handleDelItemBatch:this.handleDelItemBatch}),y.default.createElement("br",null),y.default.createElement("br",null),y.default.createElement(C.default,{columns:u,data:a,onChange:function(t){return e.queryList(t.current,t.pageSize)},onSelectChange:this.saveSelectRows,pagination:i}))}}]),t}(y.default.Component),w=E))||w),N=M;t.default=N}}]);