(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[45],{"+1iq":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var r=l(a("bx4M"));a("miYZ");var o=l(a("tsqr")),u=l(a("2Taf")),n=l(a("vZ4D")),d=l(a("l4Ni")),s=l(a("ujKo")),i=l(a("MhPg")),c=l(a("q1tI")),f=l(a("vn99")),p=function(e){function t(){var e,a;(0,u.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,d.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),a.state={id:a.props.location.query.id},a.toList=function(){a.props.history.replace("/User/List")},a.handleFormClose=function(){a.state.id?o.default.success("\u7f16\u8f91\u6210\u529f"):o.default.success("\u6dfb\u52a0\u6210\u529f"),a.toList()},a.handleFormCancel=function(){a.toList()},a}return(0,i.default)(t,e),(0,n.default)(t,[{key:"render",value:function(){var e=this.state.id;return c.default.createElement(r.default,null,c.default.createElement("div",{className:"max-width-900px"},c.default.createElement(f.default,{id:e,onClose:this.handleFormClose,onCancel:this.handleFormCancel})))}}]),t}(c.default.Component),m=p;t.default=m},"V/I/":function(e,t,a){},vn99:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var r=l(a("2/Rp"));a("OaEy");var o=l(a("2fM7"));a("5NDa");var u=l(a("5rEg"));a("Pwec");var n=l(a("CtXQ"));a("miYZ");var d=l(a("tsqr")),s=l(a("2Taf")),i=l(a("vZ4D")),c=l(a("l4Ni")),f=l(a("ujKo")),p=l(a("MhPg"));a("y8nQ");var m=l(a("Vl3Y"));a("V/I/");var h,v,y,g,b,E=l(a("q1tI")),C=(l(a("17x9")),a("MuoO")),q=l(a("9PlM")),w=a("7DNP"),F=(h=(0,C.connect)(),v=m.default.create(),(0,w.withRouter)(y=h(y=v((b=g=function(e){function t(){var e,a;(0,s.default)(this,t);for(var l=arguments.length,r=new Array(l),o=0;o<l;o++)r[o]=arguments[o];return a=(0,c.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(r))),a.handleSubmit=function(e){e.preventDefault();var t=a.props.form;t.validateFields(function(e,l){if(!e)if(t.isFieldsTouched()){var r=a.props.dispatch;a.props.location.query.id?(console.log(Object.assign({id:a.props.location.query.id},l)),r({type:"user/updateById",id:a.props.location.query.id,payload:Object.assign({id:a.props.location.query.id},l)}).then(function(e){200===e.status?a.props.onClose(l):d.default.error(e.message)})):r({type:"user/create",payload:l}).then(function(e){200===e.status?a.props.onClose():d.default.error(e.message)})}else a.props.onCancel()})},a}return(0,p.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this;if(console.log(this.props),this.props.location.query.id){var t=this.props.dispatch;t({type:"user/detail",payload:this.props.location.query.id}).then(function(t){if(!t.data)return d.default.error("\u6570\u636e\u4e0d\u5b58\u5728"),void e.props.onCancel();delete t.data.id,e.props.form.setFieldsValue(t.data)})}}},{key:"render",value:function(){console.log(this.props);var e=this.props.form,t=[{label:"\u7528\u6237",value:"user"},{label:"\u7ba1\u7406\u5458",value:"admin"}];return E.default.createElement(m.default,{onSubmit:this.handleSubmit},E.default.createElement(m.default.Item,{label:"\u5934\u50cf",className:"mb-6"},e.getFieldDecorator("logo")(E.default.createElement(q.default,null))),E.default.createElement(m.default.Item,{label:"\u8d26\u53f7"},e.getFieldDecorator("userName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8d26\u53f7"}]})(E.default.createElement(u.default,{prefix:E.default.createElement(n.default,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7"}))),E.default.createElement(m.default.Item,{label:"\u5bc6\u7801"},e.getFieldDecorator("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]})(E.default.createElement(u.default,{prefix:E.default.createElement(n.default,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}))),E.default.createElement(m.default.Item,{label:"\u89d2\u8272"},e.getFieldDecorator("role",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7c7b\u578b"}]})(E.default.createElement(o.default,{placeholder:"\u8bf7\u9009\u62e9\u7c7b\u578b"},t.map(function(e){return E.default.createElement(o.default.Option,{key:e.value,value:e.value},e.label)})))),E.default.createElement(m.default.Item,null,E.default.createElement(r.default,{type:"primary",htmlType:"submit"},"\u4fdd\u5b58"),E.default.createElement("span",null,"\u2003"),E.default.createElement(r.default,{onClick:this.props.onCancel},"\u53d6\u6d88")))}}]),t}(E.default.Component),g.defaultProps={onClose:function(){},onCancel:function(){}},y=b))||y)||y)||y),I=F;t.default=I}}]);